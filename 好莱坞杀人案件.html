<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¦™æ¢å¯»å‡¶ - å¥½è±åæ€äººäº‹ä»¶</title>
    <style>
        :root {
            /* çº¸è´¨ä¹¦é…è‰² */
            --bg-paper: #fdfbf7;
            --ink-color: #2c3e50;
            --border-color: #333;
            --grid-line: #999;
            --card-bg: #fff;
            
            /* äº¤äº’è‰² */
            --accent-red: #c0392b;
            --accent-green: #27ae60;
        }

        * { box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif;
            background-color: var(--bg-paper);
            color: var(--ink-color);
            margin: 0;
            padding: 20px 15px 100px; /* åº•éƒ¨ç•™ç™½ç»™æ‚¬æµ®æŒ‰é’® */
            line-height: 1.6;
        }

        .container { max-width: 800px; margin: 0 auto; }

        /* --- å¤´éƒ¨ --- */
        header {
            border-bottom: 3px solid var(--ink-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        h1 {
            margin: 0;
            font-size: 1.4rem;
            font-weight: 900;
        }

        /* --- ç®€ä»‹ (å–æ¶ˆæ–œä½“) --- */
        .intro-box {
            background: #eee;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 30px;
            font-size: 0.95rem;
            border: 1px solid #ccc;
            font-style: normal; /* æ˜ç¡®å–æ¶ˆæ–œä½“ */
            color: #444;
        }

        /* --- å¡ç‰‡é€šç”¨æ ·å¼ --- */
        .section-label {
            font-weight: bold;
            font-size: 1.1rem;
            border-bottom: 2px solid var(--ink-color);
            margin: 30px 0 15px;
            padding-bottom: 5px;
        }

        .cards-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        /* å«Œç–‘äººå¡ç‰‡ (æ¨¡ä»¿ä¹¦ä¸­æ¨ªå‘æ’ç‰ˆ) */
        .suspect-card {
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 12px;
            background: var(--card-bg);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .sus-icon-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 80px; /* å›ºå®šå®½åº¦é˜²æ­¢æŒ¤å‹ */
        }
        .sus-icon { font-size: 3rem; filter: grayscale(100%); line-height: 1; }
        .sus-name-short { font-size: 0.7rem; font-weight: bold; margin-top: 5px; text-align: center; }

        .sus-info { flex: 1; }
        .sus-desc { font-size: 0.9rem; margin-bottom: 8px; }
        .sus-traits { font-size: 0.8rem; font-weight: 800; color: #000; } /* åŠ ç²—ç‰¹å¾ */

        /* ç‰©å“å¡ç‰‡ (ä¸‰åˆ—æ’ç‰ˆ) */
        .grid-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* å¼ºåˆ¶ä¸‰åˆ— */
            gap: 10px;
        }

        .item-card {
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 10px 5px;
            background: var(--card-bg);
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .item-icon { font-size: 2.2rem; filter: grayscale(100%); margin-bottom: 5px; }
        .item-name { font-weight: bold; font-size: 0.9rem; margin-bottom: 2px; line-height: 1.2;}
        .item-tag { font-size: 0.7rem; color: #666; margin-bottom: 5px; font-weight: bold;}
        .item-desc { font-size: 0.75rem; color: #444; line-height: 1.3; text-align: center; width: 100%; padding: 0 4px;}

        /* --- çº¿ç´¢åŒº --- */
        .clues-box {
            background: #fff;
            border: 2px dashed var(--border-color);
            padding: 20px;
            border-radius: 6px;
            margin: 30px 0;
        }
        .clue-item { margin-bottom: 8px; padding-left: 15px; position: relative; font-size: 0.95rem; }
        .clue-item::before { content: 'â€¢'; position: absolute; left: 0; font-weight: bold; }

        /* --- é€»è¾‘ç½‘æ ¼ (Lå‹) --- */
        .grid-wrapper {
            margin: 40px 0;
            overflow-x: auto;
            display: flex;
            justify-content: center;
            padding-bottom: 10px;
        }

        .grid-table {
            border-collapse: collapse;
            background: #fff;
            border: 3px solid var(--ink-color);
        }

        .grid-table td, .grid-table th {
            border: 1px solid var(--grid-line);
            width: 42px;
            height: 42px;
            text-align: center;
            padding: 0;
        }

        .grid-table th { background: #eee; font-size: 1.4rem; vertical-align: middle; }
        .th-icon { filter: grayscale(100%); }

        .border-right-thick { border-right: 3px solid var(--ink-color) !important; }
        .border-bottom-thick { border-bottom: 3px solid var(--ink-color) !important; }
        .empty-zone { background: var(--bg-paper); border: none !important; }

        /* äº¤äº’æ ¼å­ */
        .cell { cursor: pointer; font-size: 1.4rem; }
        .cell.cross { color: var(--accent-red); background: rgba(192, 57, 43, 0.05); }
        .cell.check { color: var(--accent-green); background: rgba(39, 174, 96, 0.05); }
        .cell.cross::after { content: 'âœ–'; }
        .cell.check::after { content: 'âœ”'; }

        /* --- ç»“æ¡ˆåŒº --- */
        .solution-box {
            border: 2px solid var(--ink-color);
            border-radius: 12px;
            padding: 20px;
            background: #fff;
        }
        .sol-row {
            display: flex; align-items: center; border-bottom: 1px solid #ccc;
            padding: 10px 0; margin-bottom: 10px;
        }
        .sol-label { font-weight: bold; margin-right: 10px; min-width: 90px; }
        select { flex: 1; border: none; font-size: 1rem; background: transparent; color: var(--ink-color); }
        
        .btn-submit {
            width: 100%; background: var(--ink-color); color: #fff;
            padding: 15px; border: none; border-radius: 6px;
            font-size: 1.1rem; font-weight: bold; margin-top: 10px;
        }

        /* --- æ‚¬æµ®é‡ç½®æŒ‰é’® --- */
        .fab-reset {
            position: fixed;
            right: 20px;
            bottom: 30px;
            width: 56px;
            height: 56px;
            background: #fff;
            border: 2px solid var(--ink-color);
            border-radius: 50%;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            cursor: pointer;
            z-index: 100;
            transition: transform 0.2s;
        }
        .fab-reset:active { transform: scale(0.9); background: #eee; }

        /* å¼¹çª— */
        #modal-overlay { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.6); z-index: 200; }
        #modal-box { 
            display: none; position: fixed; top:50%; left:50%; transform: translate(-50%, -50%);
            background: #fff; padding: 25px; width: 85%; max-width: 350px; border-radius: 8px;
            text-align: center; border: 3px solid var(--ink-color); z-index: 201;
        }

        /* --- åº•éƒ¨å·¦å³å¸ƒå±€ä¸“ç”¨æ ·å¼ --- */
        .bottom-layout {
            display: flex;
            flex-direction: column; /* æ‰‹æœºé»˜è®¤ä¸Šä¸‹æ’ */
            gap: 30px;
            margin-top: 30px;
        }

        /* ç”µè„‘/å¹³æ¿å±å¹•ï¼ˆå®½åº¦å¤§äº900pxï¼‰æ—¶å˜ä¸ºå·¦å³æ’ */
        @media (min-width: 900px) {
            .bottom-layout {
                flex-direction: row; 
                align-items: flex-start;
                justify-content: space-between;
            }

            .grid-area {
                flex: 0 0 auto; /* è¡¨æ ¼åŒºå®½åº¦è‡ªé€‚åº” */
            }

            .solution-area {
                flex: 1; /* ç­”é¢˜åŒºå æ»¡å‰©ä½™ç©ºé—´ */
                min-width: 300px;
                max-width: 350px; /* é™åˆ¶ä¸€ä¸‹æœ€å¤§å®½åº¦ */
                position: sticky; /* è®©å®ƒåœ¨æ»šåŠ¨æ—¶ç¨å¾®å›ºå®šä¸€ç‚¹ */
                top: 20px;
            }
        }

        /* è¦†ç›–ä¸€ä¸‹åŸæœ‰æ ·å¼ */
        .grid-wrapper {
            margin: 10px 0 0 0 !important;
            justify-content: flex-start !important;
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>1. å¥½è±åæ€äººäº‹ä»¶</h1>
        <span style="font-weight:bold; border:2px solid #333; padding:2px 6px; border-radius:4px; font-size:0.8rem;">å…¥é—¨çº§</span>
    </header>

    <div class="intro-box">
        å½“å›¾å¨åˆ©Â·æ´›åŸºå…‹å—é‚€å‚åŠ å¥½è±åå±±åº„è±ªå®…çš„é«˜çº§æ™šå®´æ—¶ï¼Œä»–ä»¥ä¸ºè‡ªå·±ç»ˆäºå‡ºäººå¤´åœ°äº†ã€‚é—æ†¾çš„æ˜¯ï¼Œä»–å¹¶ä¸æ˜¯ä¸»å®¾ï¼šä»–ä¹‹æ‰€ä»¥è¢«é‚€è¯·ï¼Œæ˜¯ä¸ºäº†ç ´è§£ä¸»å®¾é‡å®³çš„æ¡ˆå­ã€‚
    </div>

    <!-- 1. å«Œç–‘äºº (åˆ—è¡¨å¼ï¼Œè¿˜åŸä½“è²Œç‰¹å¾) -->
    <div class="section-label">å«Œç–‘äººï¼š</div>
    <div class="cards-list" id="suspects-container"></div>

    <!-- 2. åœ°ç‚¹ (ä¸‰åˆ—å¼) -->
    <div class="section-label">åœ°ç‚¹ï¼š</div>
    <div class="grid-cards" id="locations-container"></div>

    <!-- 3. å‡¶å™¨ (ä¸‰åˆ—å¼) -->
    <div class="section-label">å‡¶å™¨ï¼š</div>
    <div class="grid-cards" id="weapons-container"></div>

    <!-- 4. çº¿ç´¢ -->
    <div class="section-label">çº¿ç´¢ä¸è¯æ®ï¼š</div>
    <div class="clues-box" id="clues-container"></div>

<!-- æ–°å¢çš„å·¦å³å¸ƒå±€å®¹å™¨ -->
    <div class="bottom-layout">
        
        <!-- å·¦è¾¹ï¼šè¡¨æ ¼ -->
        <div class="grid-area">
            <div class="section-label" style="margin-top:0;">ä¾¦æ¢ç¬”è®°ï¼š</div>
            <div class="grid-wrapper" id="grid-main"></div>
        </div>

        <!-- å³è¾¹ï¼šæäº¤æ¡† -->
        <div class="solution-area">
            <div class="section-label" style="margin-top:0;">ç»“æ¡ˆé™ˆè¯ï¼š</div>
            <div class="solution-box">
                <div class="sol-row">
                    <span class="sol-label">å‡¶æ‰‹æ˜¯è°ï¼Ÿ</span>
                    <select id="ans-suspect"><option value="">...</option></select>
                </div>
                <div class="sol-row">
                    <span class="sol-label">å‡¶å™¨æ˜¯ä»€ä¹ˆï¼Ÿ</span>
                    <select id="ans-weapon"><option value="">...</option></select>
                </div>
                <div class="sol-row">
                    <span class="sol-label">åœ¨å“ªå„¿ï¼Ÿ</span>
                    <select id="ans-location"><option value="">...</option></select>
                </div>
                <button class="btn-submit" onclick="game.submit()">ç»“æ¡ˆæäº¤</button>
            </div>
        </div>

    </div>
</div>

<!-- æ‚¬æµ®é‡ç½®æŒ‰é’® -->
<div class="fab-reset" onclick="game.reset()" title="é‡ç½®ç¬”è®°">ğŸ—‘ï¸</div>

<!-- å¼¹çª— -->
<div id="modal-overlay"></div>
<div id="modal-box">
    <h3 id="modal-title" style="margin-top:0;"></h3>
    <p id="modal-msg"></p>
    <button onclick="closeModal()" style="background:#333; color:#fff; border:none; padding:8px 20px; margin-top:10px;">å…³é—­</button>
</div>

<script>
// å®Œæ•´å¤åˆ»ä¹¦ä¸­æ•°æ®
const DATA = {
    suspects: [
        { 
            id: 'A', name: 'ç¥å¥‡çš„å¥¥ç‘æ—', icon: 'ğŸ©', 
            desc: 'ä¸€åé­”æœ¯å¸ˆï¼Œå®Œç¾åœ°è¡¨æ¼”äº†å°†ä¸ˆå¤«é”¯æˆä¸¤åŠçš„é­”æœ¯ã€‚ç„¶åï¼Œå¥¹æŠŠä»–çš„å°¸ä½“å˜æ²¡äº†ã€‚',
            traits: '5è‹±å°º6è‹±å¯¸ Â· å·¦æ’‡å­ Â· ç»¿çœ¼ç› Â· é‡‘å‘'
        },
        { 
            id: 'B', name: 'ç±³å¾·è€ç‰¹ä¸‰ä¸–', icon: 'ğŸ•¶ï¸', 
            desc: 'ç±³å¾·è€ç‰¹ç”µå½±åˆ¶ç‰‡å‚åˆ›å§‹äººçš„å­™å­ï¼Œè‡ªç§°æ˜¯ç™½æ‰‹èµ·å®¶ã€‚',
            traits: '5è‹±å°º8è‹±å¯¸ Â· å·¦æ’‡å­ Â· æ·±æ£•è‰²çœ¼ç› Â· æ·±æ£•è‰²å¤´å‘'
        },
        { 
            id: 'C', name: 'å¥¥æ¯”æ–¯è¿ªäºšå¤«äºº', icon: 'ğŸ‘’', 
            desc: 'æ¨ç†å°è¯´å®¶ï¼Œå…¶ä½œå“é”€é‡è¶…è¿‡ã€Šåœ£ç»ã€‹å’Œèå£«æ¯”äºšä½œå“çš„æ€»å’Œã€‚',
            traits: '5è‹±å°º4è‹±å¯¸ Â· å·¦æ’‡å­ Â· ç»¿çœ¼ç› Â· é»‘å‘'
        }
    ],
    locations: [
        { 
            id: 'BATH', name: 'å·¨å¤§çš„æµ´å®¤', icon: 'ğŸ›', 
            tag: 'å®¤å†…',
            desc: 'æ¯”å›¾å¨åˆ©Â·æ´›åŸºå…‹çš„æˆ¿å­è¿˜å¤§ã€‚' 
        },
        { 
            id: 'BED', name: 'å§å®¤', icon: 'ğŸ›ï¸', 
            tag: 'å®¤å†…',
            desc: 'ä¸€å°˜ä¸æŸ“çš„ç™½è‰²æˆ¿é—´å†…æ‘†æ”¾ç€ä¸€å¼ åŠ å·ç‰¹å¤§å·åºŠï¼ŒåºŠé“ºå°šæœªæ•´ç†ã€‚' 
        },
        { 
            id: 'THEATER', name: 'æ”¾æ˜ å®¤', icon: 'ğŸ“º', 
            tag: 'å®¤å†…',
            desc: 'çº¢è‰²å¤©é¹…ç»’åº§æ¤…å’Œçˆ†ç±³èŠ±æœºä½¿è¿™é‡Œæˆä¸ºçœ‹ç”µå½±çš„æœ€ä½³åœºæ‰€ã€‚' 
        }
    ],
    weapons: [
        { 
            id: 'FORK', name: 'ä¸€æŠŠé¤å‰', icon: 'ğŸ´', 
            tag: 'è½»é‡çº§',
            desc: 'æ‚¨ä»”ç»†ç¢ç£¨ç¢ç£¨ï¼Œè¿™ç©æ„å„¿å…¶å®æ¯”åˆ€å¯æ€•å¾—å¤šã€‚' 
        },
        { 
            id: 'PIPE', name: 'ä¸€æ ¹é“…ç®¡', icon: 'ğŸ¥¢', // Emojiæ²¡æœ‰é“…ç®¡ï¼Œæš‚ç”¨ç­·å­ä»£æ›¿é•¿æ¡ç‰©ï¼Œæˆ–è€…ç”¨ğŸ’ˆ
            tag: 'é‡é‡çº§',
            desc: 'é“…æ¯”é“å®‰å…¨ï¼Œå¯æ˜¯å¯¹ç€æ‚¨çš„è„‘è¢‹æ¥ä¸€ä¸‹å°±ä¸ä¸€å®šäº†ã€‚' 
        },
        { 
            id: 'CANDLE', name: 'é¢‡æœ‰åˆ†é‡çš„èœ¡çƒ›', icon: 'ğŸ•¯ï¸', 
            tag: 'é‡é‡çº§',
            desc: 'é‡é‡è¶³å¤Ÿæ€äººï¼Œä¸è¿‡æœ¬èŒæ˜¯ç”¨æ¥ç»™æˆ¿é—´ç…§æ˜çš„ã€‚' 
        }
    ],
    clues: [
        "ç¥å¥‡çš„å¥¥ç‘æ—ä¿¡ä»»æŒæœ‰é¤å‰çš„å«Œç–‘äººã€‚",
        "æ´›åŸºå…‹èµ¶åˆ°æ—¶ï¼Œç±³å¾·è€ç‰¹ä¸‰ä¸–è¿˜åœ¨æŒ¥èˆé“…ç®¡ã€‚",
        "å§å®¤é‡Œæ²¡å‘ç°é¢‡æœ‰åˆ†é‡çš„èœ¡çƒ›ã€‚",
        "å¥¥æ¯”æ–¯è¿ªäºšå¤«äººè¢«å‘ç°èº²åœ¨çº¢è‰²å¤©é¹…ç»’åº§æ¤…ä¸‹ã€‚",
        "å°¸ä½“æ˜¯åœ¨ä¸€ä¸ªå¤§ç†çŸ³æµ´ç¼¸å†…è¢«å‘ç°çš„ã€‚"
    ],
    solution: { s: 'C', w: 'FORK', l: 'BATH' }
};

const game = {
    state: {},

    init() {
        this.renderSuspects();
        this.renderGridCards('locations-container', DATA.locations);
        this.renderGridCards('weapons-container', DATA.weapons);
        this.renderClues();
        this.renderGrid();
        this.fillSelects();
    },

    // æ¸²æŸ“å«Œç–‘äººï¼ˆç‰¹æ®Šå¸ƒå±€ï¼šæ¨ªå‘ï¼‰
    renderSuspects() {
        const el = document.getElementById('suspects-container');
        el.innerHTML = DATA.suspects.map(s => `
            <div class="suspect-card">
                <div class="sus-icon-box">
                    <div class="sus-icon">${s.icon}</div>
                    <div class="sus-name-short">${s.name}</div>
                </div>
                <div class="sus-info">
                    <div class="sus-desc">${s.desc}</div>
                    <div class="sus-traits">${s.traits}</div>
                </div>
            </div>
        `).join('');
    },

    // æ¸²æŸ“ç‰©å“/åœ°ç‚¹ï¼ˆé€šç”¨ç½‘æ ¼å¸ƒå±€ï¼‰
    renderGridCards(id, list) {
        const el = document.getElementById(id);
        el.innerHTML = list.map(item => `
            <div class="item-card">
                <div class="item-icon">${item.icon}</div>
                <div class="item-name">${item.name}</div>
                <div class="item-tag">${item.tag}</div>
                <div class="item-desc">${item.desc}</div>
            </div>
        `).join('');
    },

    renderClues() {
        document.getElementById('clues-container').innerHTML = 
            DATA.clues.map(c => `<div class="clue-item">${c}</div>`).join('');
    },

    // æ¸²æŸ“æ ¸å¿ƒç½‘æ ¼ (Lå‹)
    renderGrid() {
        const div = document.getElementById('grid-main');
        let html = `<table class="grid-table">`;

        // 1. è¡¨å¤´
        html += `<thead><tr><th style="background:#fff; border:none;"></th>`; // å·¦ä¸Šè§’å®Œå…¨é€æ˜
        DATA.suspects.forEach((s, i) => {
            const cls = (i === DATA.suspects.length - 1) ? 'border-right-thick' : '';
            html += `<th class="th-icon ${cls}">${s.icon}</th>`;
        });
        DATA.locations.forEach(l => {
            html += `<th class="th-icon">${l.icon}</th>`;
        });
        html += `</tr></thead><tbody>`;

        // 2. å‡¶å™¨è¡Œ
        DATA.weapons.forEach((w, wIdx) => {
            const rowCls = (wIdx === DATA.weapons.length - 1) ? 'border-bottom-thick' : '';
            html += `<tr class="${rowCls}">`;
            html += `<th class="th-icon" style="background:#eee; border-right:1px solid #999;">${w.icon}</th>`;

            DATA.suspects.forEach((s, sIdx) => {
                const bCls = (sIdx === DATA.suspects.length - 1) ? 'border-right-thick' : '';
                const key = `${s.id}-${w.id}`;
                html += `<td class="cell ${bCls}" id="c-${key}" onclick="game.toggle('${key}')"></td>`;
            });

            DATA.locations.forEach(l => {
                const key = `${w.id}-${l.id}`;
                html += `<td class="cell" id="c-${key}" onclick="game.toggle('${key}')"></td>`;
            });
            html += `</tr>`;
        });

        // 3. åœ°ç‚¹è¡Œ
        DATA.locations.forEach((lRow, lIdx) => {
            html += `<tr>`;
            html += `<th class="th-icon" style="background:#eee; border-right:1px solid #999;">${lRow.icon}</th>`;

            DATA.suspects.forEach((s, sIdx) => {
                const bCls = (sIdx === DATA.suspects.length - 1) ? 'border-right-thick' : '';
                const key = `${s.id}-${lRow.id}`;
                html += `<td class="cell ${bCls}" id="c-${key}" onclick="game.toggle('${key}')"></td>`;
            });

            html += `<td class="empty-zone" colspan="${DATA.locations.length}"></td>`;
            html += `</tr>`;
        });

        html += `</tbody></table>`;
        div.innerHTML = html;
        this.updateView();
    },

    // ç‚¹å‡»é€»è¾‘ (å–æ¶ˆè‡ªåŠ¨å¡«å……ï¼Œçº¯æ‰‹åŠ¨)
    toggle(key) {
        const val = this.state[key] || 0;
        // 0(ç©º) -> 1(X) -> 2(âœ”) -> 0
        this.state[key] = (val + 1) % 3;
        this.updateView();
    },

    updateView() {
        for (let k in this.state) {
            const el = document.getElementById(`c-${k}`);
            if (el) {
                el.className = el.className.replace(/ cross| check/g, '');
                if (this.state[k] === 1) el.classList.add('cross');
                if (this.state[k] === 2) el.classList.add('check');
            }
        }
    },

    fillSelects() {
        const fill = (id, list) => {
            const sel = document.getElementById(id);
            list.forEach(i => {
                const opt = document.createElement('option');
                opt.value = i.id;
                opt.innerText = i.name;
                sel.appendChild(opt);
            });
        };
        fill('ans-suspect', DATA.suspects);
        fill('ans-weapon', DATA.weapons);
        fill('ans-location', DATA.locations);
    },

    submit() {
        const s = document.getElementById('ans-suspect').value;
        const w = document.getElementById('ans-weapon').value;
        const l = document.getElementById('ans-location').value;
        if(!s || !w || !l) return showModal('æç¤º', 'è¯·å¡«å®Œæ‰€æœ‰é€‰é¡¹');

        const win = (s === DATA.solution.s && w === DATA.solution.w && l === DATA.solution.l);
        showModal(win ? 'ğŸ‰ ç ´æ¡ˆæˆåŠŸ' : 'â›” æ¨ç†é”™è¯¯', win ? 'é€»è¾‘å®Œç¾ï¼å‡¶æ‰‹å·²è¢«é”å®šã€‚' : 'æœ‰äº›çº¿ç´¢ä¼¼ä¹å¯¹ä¸ä¸Š...');
    },

    reset() {
        if(confirm('è¦æ“¦æ‰æ‰€æœ‰ç¬”è®°é‡æ–°å¼€å§‹å—ï¼Ÿ')) {
            this.state = {};
            this.updateView();
            // æ¸…é™¤åŸæ¥çš„classç—•è¿¹
            document.querySelectorAll('.cell').forEach(c => c.className = c.className.replace(/ cross| check/g, ''));
        }
    }
};

function showModal(title, msg) {
    document.getElementById('modal-title').innerText = title;
    document.getElementById('modal-msg').innerText = msg;
    document.getElementById('modal-overlay').style.display = 'block';
    document.getElementById('modal-box').style.display = 'block';
}
function closeModal() {
    document.getElementById('modal-overlay').style.display = 'none';
    document.getElementById('modal-box').style.display = 'none';
}

window.onload = () => game.init();

</script>
</body>
</html>